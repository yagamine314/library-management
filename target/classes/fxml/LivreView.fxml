<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.lang.*?>
<?import javafx.scene.control.cell.*?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.library.controller.LivreController"
      prefHeight="600.0" prefWidth="800.0" spacing="10.0"
      style="-fx-padding: 20;">

    <Label text="Gestion des Livres" style="-fx-font-size: 18px; -fx-font-weight: bold;" />

    <!-- Section Gestion des Livres -->
    <TitledPane text="Gestion des Livres" collapsible="false">
        <VBox spacing="10.0" style="-fx-padding: 10;">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="ISBN:" prefWidth="50.0" />
                <TextField fx:id="isbnField" promptText="Entrez l'ISBN" prefWidth="120.0" />

                <Label text="Titre:" prefWidth="50.0" />
                <TextField fx:id="titreField" promptText="Entrez le titre" prefWidth="150.0" />

                <Label text="Auteur:" prefWidth="60.0" />
                <TextField fx:id="auteurField" promptText="Entrez l'auteur" prefWidth="120.0" />

                <Label text="Année:" prefWidth="50.0" />
                <TextField fx:id="anneeField" promptText="Entrez l'année" prefWidth="80.0" />

                <CheckBox fx:id="disponibleCheckBox" text="Disponible" selected="true" />
            </HBox>
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Button fx:id="ajouterButton" text="Ajouter" onAction="#ajouterLivre"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white;" />
                <Button fx:id="modifierButton" text="Modifier" onAction="#modifierLivre"
                        style="-fx-background-color: #FF9800; -fx-text-fill: white;" />
                <Button fx:id="supprimerButton" text="Supprimer" onAction="#supprimerLivre"
                        style="-fx-background-color: #F44336; -fx-text-fill: white;" />
                <Button fx:id="emprunterButton" text="Emprunter" onAction="#emprunterLivre"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white;" />
                <Button fx:id="retournerButton" text="Retourner" onAction="#retournerLivre"
                        style="-fx-background-color: #9C27B0; -fx-text-fill: white;" />
            </HBox>
        </VBox>
    </TitledPane>

    <!-- Section Recherche -->
    <TitledPane text="Recherche" collapsible="false">
        <VBox spacing="10.0" style="-fx-padding: 10;">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="Type de recherche:" prefWidth="120.0" />
                <ComboBox fx:id="searchTypeComboBox" prefWidth="100.0" />

                <Label text="Terme:" prefWidth="50.0" />
                <TextField fx:id="searchField" promptText="Entrez le terme de recherche" prefWidth="200.0" />

                <Button fx:id="rechercherButton" text="Rechercher" onAction="#rechercherLivres"
                        style="-fx-background-color: #FF5722; -fx-text-fill: white;" />
            </HBox>
        </VBox>
    </TitledPane>

    <!-- Table des Livres -->
    <TitledPane text="Liste des Livres" VBox.vgrow="ALWAYS" collapsible="false">
        <VBox spacing="10.0" style="-fx-padding: 10;" VBox.vgrow="ALWAYS">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Button fx:id="actualiserButton" text="Actualiser" onAction="#actualiserTable"
                        style="-fx-background-color: #607D8B; -fx-text-fill: white;" />
                <Label fx:id="statusLabel" text="" style="-fx-text-fill: #666;" HBox.hgrow="ALWAYS" />
            </HBox>

            <TableView fx:id="livresTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="isbnColumn" text="ISBN" prefWidth="120.0" />
                    <TableColumn fx:id="titreColumn" text="Titre" prefWidth="200.0" />
                    <TableColumn fx:id="auteurColumn" text="Auteur" prefWidth="150.0" />
                    <TableColumn fx:id="anneeColumn" text="Année" prefWidth="80.0" />
                    <TableColumn fx:id="disponibleColumn" text="Disponible" prefWidth="100.0" />
                </columns>
            </TableView>
        </VBox>
    </TitledPane>

</VBox>
